$$.user={renderPoint:function(e){},getPoint:function(){$.ajax({type:"get",url:"/state/point",success:function(e){$$.user.renderPoint(e.points)},error:function(){alert("Admin: Error when get point setting!")}})},renderRound1:function(e){"send"==e.action?($$.user.question=e.question,$("#questionContent").html(""),$("#answerA").html(""),$("#answerB").html(""),$("#answerC").html(""),$("#answerD").html("")):"show"==e.action&&$$.user.question.index==e.questionIndex&&($("#questionContent").html($$.user.question.content),$("#answerA").html("A. "+$$.user.question.answerA),$("#answerB").html("B. "+$$.user.question.answerB),$("#answerC").html("C. "+$$.user.question.answerC),$("#answerD").html("D. "+$$.user.question.answerD)),$.ajax({type:"PUT",url:"/user/round1/question/"+$$.user.question.index,success:function(e){e.error&&alert("User: "+error)},error:function(){alert("User: Report question has error!")}})},getRound:function(){$.ajax({type:"get",url:"/state/round",success:function(e){1==e.round&&($$.user.roundIndex=1,$.ajax({type:"GET",url:"/admin/round1/state",success:function(e){$$.user.question=e.question,$$.user.renderRound1(e)},error:function(){alert("User: "+$$.capitalizeFirstLetter(action)+" question "+questionIndex+"!")}}))},error:function(){alert("User: Error when get round setting!")}})},init:function(){$$.socket.emit("login",$$.userId),$$.user.getRound(),$$.user.getPoint(),$$.socket.on("round",function(e){$$.user.renderRound(e)}),$$.socket.on("point",function(e){$$.user.renderPoint(e)}),$$.socket.on("round1Do",function(e){1==$$.user.roundIndex&&$$.user.renderRound1(e)})}},$(document).ready($$.user.init);