$$.screen={renderPoint:function(n){Object.keys(n).forEach(function(e){$("#userPoint"+e).html(n[e])})},getPoint:function(){$.ajax({type:"get",url:"/state/point",success:function(n){$$.screen.renderPoint(n.points)},error:function(){alert("Admin: Error when get point setting!")}})},renderRound:function(n){$$.screen.roundIndex=n,$(".round").css("display","none"),$("#round"+n).css("display","block")},renderRound1State:function(n){"send"==n.action?($$.screen.question=n.question,$("#questionContainer").css("display","block"),$("#questionContent").html(""),$("#answerA").html(""),$("#answerB").html(""),$("#answerC").html(""),$("#answerD").html("")):"show"==n.action&&$$.screen.question.index==n.questionIndex&&($("#questionContainer").css("display","block"),$("#questionContent").html($$.screen.question.content),$("#answerA").html("A. "+$$.screen.question.answerA),$("#answerB").html("B. "+$$.screen.question.answerB),$("#answerC").html("C. "+$$.screen.question.answerC),$("#answerD").html("D. "+$$.screen.question.answerD))},getRound:function(){$.ajax({type:"get",url:"/state/round",success:function(n){$$.screen.renderRound(n.round),1==n.round&&$.ajax({type:"GET",url:"/admin/round1/state",success:function(n){$$.screen.question=n.question,$$.screen.renderRound1State(n)},error:function(){alert("Screen: "+$$.capitalizeFirstLetter(action)+" question "+questionIndex+"!")}})},error:function(){alert("Screen: Error when get round setting!")}})},init:function(){$$.screen.getRound(),$$.screen.getPoint(),$$.socket.on("round",function(n){$$.screen.renderRound(n)}),$$.socket.on("point",function(n){$$.screen.renderPoint(n)}),$$.socket.on("round1Do",function(n){1==$$.screen.roundIndex&&$$.screen.renderRound1State(n)})}},$(document).ready($$.screen.init);