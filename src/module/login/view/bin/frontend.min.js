$$.login={init:function(){$("#username").focus()},loginOnKeyup:function(o){13==(o.which||o.keyCode)&&$$.login.loginOnClick()},loginOnClick:function(){var o={id:$("#username").val().trim(),password:$("#password").val()};return""==o.id?($("#loginError").html("Username can not empty!").focus(),!1):""==o.password?($("#loginError").html("Password can not empty!").focus(),!1):($.ajax({type:"post",url:"/login",data:o,dataType:"JSON",success:function(o){o.error?$("#loginError").html(o.error):"admin"==o.role?window.location="/admin":"user"==o.role?window.location="/user":"mc"==o.role?window.location="/mc":window.location="/logout"},error:function(){$("#loginError").html("Login failed !")}}),!1)}},$(document).ready($$.login.init);